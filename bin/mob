#!/usr/bin/env ruby

require 'mobilize'

cmd = ARGV[0]
options={}

if ['c','console'].include?(cmd)
  env = ARGV[1] || "development"
  ENV['MOBILIZE_ENV'] ||= env
  Mobilize.console
elsif cmd == 'deploy'
  env = ARGV[1]
  if env.nil?
    STDERR.puts "Please specify environment"
  else
    `cap deploy #{env}`
  end
elsif cmd == 'decode'
  Mobilize::Cli.decode(ARGV)
elsif cmd=='ec2'
  Mobilize::Cli.ec2(ARGV)
elsif cmd== 'configure'
  Mobilize::Cli.configure(ARGV)
elsif cmd=='root'
  puts Mobilize.root
end
