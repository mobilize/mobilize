#!/usr/bin/env ruby

def set_env
  env = ARGV[1] || "development"
  ENV['MOBILIZE_ENV'] ||= env
end

cmd = ARGV[0]
options={}

if ['c','console'].include?(cmd)
  set_env
  require 'mobilize'
  Mobilize.console
elsif cmd == 'decode'
  require 'mobilize'
  Mobilize::Cli.decode(ARGV)
elsif cmd == 'configure'
  require "mobilize"
  Mobilize::Cli.configure(ARGV)
elsif cmd == 'resque'
  set_env
  require 'mobilize'
  Mobilize::Cli.resque(ARGV)
elsif cmd =='root'
  require 'mobilize'
  puts Mobilize.root
end
